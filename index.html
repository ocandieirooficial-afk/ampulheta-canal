<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Estúdios Candieiro - Painel</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #000000, #220000);
      color: #fff;
    }
    .landing {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }
    .landing img {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      border: 4px solid gold;
      margin-bottom: 20px;
    }
    .landing h1 {
      font-family: "Cinzel", serif;
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    .landing h2 {
      font-weight: normal;
      font-size: 1rem;
      color: #aaa;
    }
    .login-box {
      margin-top: 30px;
      padding: 20px;
      background: rgba(0,0,0,0.7);
      border-radius: 12px;
    }
    .login-box input {
      padding: 10px;
      border-radius: 8px;
      border: none;
      width: 200px;
      font-size: 1rem;
    }
    .login-box button {
      margin-left: 10px;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      background: gold;
      font-weight: bold;
      cursor: pointer;
    }
    .error {
      color: #ff5555;
      margin-top: 10px;
      font-size: 0.9rem;
    }
    /* painel escondido até login */
    #app { display: none; padding: 20px; }
    nav {
      background: #111;
      padding: 10px;
      display: flex;
      gap: 15px;
    }
    nav a {
      color: gold;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <!-- Landing / Login -->
  <div id="landing" class="landing">
    <img src="perfil paulo site.png" alt="Paulo Henrique Leitão" />
    <h1>“A HISTÓRIA MAIS IMPORTANTE<br>É SEMPRE A PRÓXIMA”</h1>
    <h2>Paulo Henrique Leitão</h2>
    <div class="login-box">
      <p><strong>Acesso restrito</strong></p>
      <input id="pwd" type="password" placeholder="Digite a senha" />
      <button id="go">Entrar</button>
      <div id="err" class="error"></div>
    </div>
  </div>

  <!-- Painel principal -->
  <div id="app">
    <nav>
      <a href="#">Dashboard</a>
      <a href="#">Editor</a>
      <a href="#">Pesquisa</a>
      <a href="#">Roteiro</a>
      <a href="#">Fontes</a>
      <a href="#">Metas</a>
    </nav>
    <h1>Bem-vindo ao Painel de Produção</h1>
    <p>Aqui você controla o fluxo criativo dos Estúdios Candieiro.</p>
  </div>

  <script>
  /* =========================
     LOGIN / LANDING  (patch v5.1)
  ========================= */
  const PASS = "PPQ3105".trim();  // senha definida

  const $ = (sel) => document.querySelector(sel);
  const landing  = $('#landing');
  const app      = $('#app');
  const pwdInput = $('#pwd');
  const btnGo    = $('#go');
  const errBox   = $('#err');

  function normalize(v){ return (v||"").toString().trim().toUpperCase(); }
  function isOK(v){ return normalize(v) === normalize(PASS); }

  function grantAccess(){
    sessionStorage.setItem("candieiro_ok","1");
    landing.style.display = "none";
    app.style.display     = "block";
  }

  function tryLogin(){
    const v = pwdInput.value;
    if(!v){ errBox.textContent = "Digite a senha"; return; }
    if(!isOK(v)){ errBox.textContent = "Senha incorreta"; return; }
    errBox.textContent = "";
    grantAccess();
  }

  // listeners
  btnGo?.addEventListener('click', tryLogin);
  pwdInput?.addEventListener('keydown', (e) => { if(e.key === "Enter") tryLogin(); });

  // auto-login se já autenticado
  (function autoLogin(){
    if (sessionStorage.getItem("candieiro_ok") === "1") {
      landing.style.display="none"; app.style.display="block"; return;
    }
    const q = new URLSearchParams(location.search);
    const passQ = q.get('pass') || (location.hash ? location.hash.slice(1) : "");
    if (isOK(passQ)) grantAccess();
  })();
  </script>
</body>
</html>
