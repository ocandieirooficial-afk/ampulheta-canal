<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Estúdios Candieiro — Painel</title>
<link rel="icon" href="/assets/logo.png">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
<meta name="color-scheme" content="dark">
<style>
:root{
  --bg1:#0b0b0d; --bg2:#1a0f12; --bg3:#231218;
  --panel:#121720; --line:#213047;
  --ink:#e9edf3; --muted:#9fb0c8;
  --accent:#ffcc00; --accent2:#fff07a;
  --ok:#39d98a; --warn:#ffd166; --bad:#ff6b6b; --blue:#78b9ff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:system-ui,-apple-system,Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:
    radial-gradient(1200px 800px at 70% 20%, rgba(218,45,64,.08), rgba(0,0,0,0)),
    linear-gradient(160deg, var(--bg1) 0%, var(--bg2) 60%, var(--bg3) 100%);
}
.wrap{max-width:1060px;margin:28px auto 48px;padding:0 16px}
.top{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
.logo{display:flex;align-items:center;gap:12px}
.logo img{width:36px;height:36px;border-radius:8px}
.sub{color:var(--muted);font-size:13px}
.avatar-sm{width:34px;height:34px;border-radius:50%;object-fit:cover;border:2px solid var(--accent)}

.tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.tabs label{display:inline-block;background:#151e2c;border:1px solid var(--line);color:#cfe6ff;padding:8px 12px;border-radius:10px;cursor:pointer}
.tabs input{display:none}
.tabs input:checked + label{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#222;border-color:#d4b100}

.card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px;margin-bottom:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.row{display:flex;gap:16px;flex-wrap:wrap}
.row .card{flex:1 1 280px}

.pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#0f1420;border:1px solid var(--line);color:#9fb0c8;font-size:12px}
.big{font-size:34px;font-weight:800;letter-spacing:.2px}
.bar{height:12px;background:#0e1420;border:1px solid var(--line);border-radius:999px;overflow:hidden}
.bar>span{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .6s ease}

.select,input,textarea{width:100%;background:#0e1420;color:#cfe6ff;border:1px solid var(--line);border-radius:10px;padding:10px}
label.field{display:block;font-size:12px;color:#9fb0c8;margin:6px 0 4px}

.progress-steps{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;margin-top:10px}
.step{background:#0f1420;border:1px solid var(--line);border-radius:10px;padding:10px;text-align:center}
.step .s-title{font-size:12px;color:#a9bdd7}
.step .s-time{font-size:12px;color:#7ea0d1}

.bars{display:flex;gap:8px;align-items:flex-end;height:120px;margin-top:8px}
.bars .col{flex:1;background:linear-gradient(180deg,#ffcc00,#ffd84d);border:1px solid #d7b000;border-radius:6px 6px 0 0;min-width:28px;display:flex;align-items:flex-end;justify-content:center;color:#1d1700;font-weight:700}
.bars .col small{display:block;padding:6px 2px}
.bars .col.muted{background:linear-gradient(180deg,#243146,#1a232f);border-color:#1f2a3d;color:#a9bdd7}

table{width:100%;border-collapse:collapse;font-size:14px}
th,td{padding:10px;border-bottom:1px dashed #223046;text-align:left}
th{color:#a9bdd7;font-weight:600}

.list ul{padding-left:18px} .small{font-size:12px} .muted{color:#9fb0c8}

/* painéis das abas (CSS-only) */
.panels>section{display:none}
#tab-dashboard:checked ~ .panels #panel-dashboard{display:block}
#tab-editor:checked ~ .panels #panel-editor{display:block}
#tab-pesquisa:checked ~ .panels #panel-pesquisa{display:block}
#tab-roteiros:checked ~ .panels #panel-roteiros{display:block}
#tab-fontes:checked ~ .panels #panel-fontes{display:block}
#tab-metas:checked ~ .panels #panel-metas{display:block}
#tab-historico:checked ~ .panels #panel-historico{display:block}
</style>
</head>
<body>
<section class="wrap">
  <div class="top">
    <div class="logo">
      <img src="/assets/logo.png" alt="logo" onerror="this.style.display='none'">
      <div>
        <div style="font-weight:800">Estúdios Candieiro</div>
        <div class="sub">Painel de Produção — America/Fortaleza</div>
      </div>
    </div>
    <img src="/assets/paulo.jpg" class="avatar-sm" alt="Paulo" onerror="this.style.display='none'">
  </div>

  <!-- TABS CSS-ONLY -->
  <div class="tabs">
    <input type="radio" name="tabs" id="tab-dashboard" checked>
    <label for="tab-dashboard">Dashboard</label>

    <input type="radio" name="tabs" id="tab-editor">
    <label for="tab-editor">Editor</label>

    <input type="radio" name="tabs" id="tab-pesquisa">
    <label for="tab-pesquisa">Pesquisa</label>

    <input type="radio" name="tabs" id="tab-roteiros">
    <label for="tab-roteiros">Roteiros</label>

    <input type="radio" name="tabs" id="tab-fontes">
    <label for="tab-fontes">Fontes</label>

    <input type="radio" name="tabs" id="tab-metas">
    <label for="tab-metas">Metas</label>

    <input type="radio" name="tabs" id="tab-historico">
    <label for="tab-historico">Histórico</label>
  </div>

  <div class="panels">
    <!-- DASHBOARD -->
    <section id="panel-dashboard">
      <div class="row">
        <div class="card" style="flex:2">
          <div class="pill">Produção</div>
          <label class="field">Selecionar produção</label>
          <select id="selProd" class="select"></select>
          <div id="steps" class="progress-steps"></div>
        </div>
        <div class="card" style="flex:1">
          <div class="pill">Próximo vídeo em</div>
          <div id="countdown" class="big" style="margin:8px 0 6px">--:--:--</div>
          <div id="nextLabel" class="muted small">Carregando…</div>
          <div class="pill" style="margin-top:12px">Entre lançamentos</div>
          <div class="bar" style="margin:8px 0"><span id="progress"></span></div>
          <div id="progressLabel" class="muted small">—</div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <div class="pill">Ritmo semanal</div>
          <div id="bars" class="bars"></div>
          <p class="small muted">Publicações por semana (últimas 6 semanas)</p>
        </div>
        <div class="card">
          <div class="pill">Workflow em andamento</div>
          <ul id="flowList" class="small muted" style="line-height:1.9"></ul>
        </div>
      </div>

      <div class="card">
        <div class="pill">Linha do tempo</div>
        <ul id="timeline" class="list"></ul>
      </div>
    </section>

    <!-- EDITOR -->
    <section id="panel-editor">
      <div class="card">
        <div class="pill">Cadastrar/Editar Produção (salva automaticamente)</div>
        <form id="form" onsubmit="return false" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:12px 0">
          <div><label class="field">Título</label><input id="fTitulo" placeholder="Narrativas: Chico Mendes"></div>
          <div><label class="field">Selo</label>
            <select id="fSelo" class="select">
              <option>Narrativas</option><option>Arquivo Criminal</option><option>Inexplicável</option><option>Prévia</option><option>Abertos</option>
            </select>
          </div>
          <div><label class="field">Data & hora (YYYY-MM-DDTHH:MM)</label><input id="fData" placeholder="2025-11-14T18:00"></div>
          <div><label class="field">Link (opcional)</label><input id="fLink" placeholder="https://..."></div>

          <div style="grid-column:1/-1"><div class="pill">Roteiro (PDF)</div></div>
          <div><label class="field">Anexar PDF</label><input id="fPDF" type="file" accept="application/pdf"></div>
          <div><label class="field">Notas do Roteiro</label><input id="fNotas" placeholder="Observações"></div>

          <div style="grid-column:1/-1"><div class="pill">Avaliação do Roteiro</div></div>
          <div><label class="field">Força Narrativa</label><input id="rForca" type="number" min="1" max="5" value="4"></div>
          <div><label class="field">Impacto Emocional</label><input id="rEmocional" type="number" min="1" max="5" value="4"></div>
          <div><label class="field">Carga dramática & Sensibilidade</label><input id="rDrama" type="number" min="1" max="5" value="4"></div>
          <div><label class="field">Credibilidade</label><input id="rCred" type="number" min="1" max="5" value="4"></div>
          <div><label class="field">Originalidade</label><input id="rOrig" type="number" min="1" max="5" value="4"></div>

          <div style="grid-column:1/-1"><div class="pill">Workflow da Produção</div></div>
          <div><label><input type="checkbox" id="wPesquisa"> Pesquisa</label></div>
          <div><label><input type="checkbox" id="wRoteiro"> Roteiro</label></div>
          <div><label><input type="checkbox" id="wGravacao"> Gravação</label></div>
          <div><label><input type="checkbox" id="wDecupagem"> Decupagem</label></div>
          <div><label><input type="checkbox" id="wEdicao"> Edição</label></div>
          <div><label><input type="checkbox" id="wPostagem"> Postagem</label></div>

          <div style="grid-column:1/-1"><div class="pill">Pesquisa (links)</div></div>
          <div style="grid-column:1/-1">
            <div style="display:flex;gap:8px;margin-bottom:8px">
              <input id="linkTitulo" placeholder="Título do link">
              <input id="linkURL" placeholder="https://...">
              <button type="button" class="tabs" style="padding:8px 12px;border-radius:10px;background:#151e2c;border:1px solid var(--line);color:#cfe6ff" id="addLink">Adicionar link</button>
            </div>
            <ul id="linksTmp" class="small muted"></ul>
          </div>

          <div style="grid-column:1/-1"><div class="pill">Metas</div></div>
          <div><label class="field">Meta de inscritos</label><input id="metaInscritos" type="number" placeholder="100000"></div>
          <div><label class="field">Prazo da meta (YYYY-MM-DD)</label><input id="metaPrazo" placeholder="2026-06-01"></div>
          <div><label class="field">Meta ritmo semanal (vídeos)</label><input id="metaRitmo" type="number" value="1"></div>
        </form>

        <div class="row">
          <button type="button" id="saveBtn" style="padding:8px 12px;border-radius:10px;background:#151e2c;border:1px solid var(--line);color:#cfe6ff">Salvar/Adicionar</button>
          <button type="button" id="clearBtn" style="padding:8px 12px;border-radius:10px;background:#151e2c;border:1px solid var(--line);color:#cfe6ff">Limpar</button>
          <button type="button" id="exportBtn" style="padding:8px 12px;border-radius:10px;background:#151e2c;border:1px solid var(--line);color:#cfe6ff">Exportar JSON</button>
          <label for="importFile" style="padding:8px 12px;border-radius:10px;background:#151e2c;border:1px solid var(--line);color:#cfe6ff;cursor:pointer">Importar JSON
            <input id="importFile" type="file" accept=".json" style="display:none">
          </label>
          <button type="button" id="wipeBtn" style="padding:8px 12px;border-radius:10px;background:#151e2c;border:1px solid var(--line);color:#cfe6ff">Limpar armazenamento</button>
        </div>

        <table style="margin-top:14px">
          <thead><tr><th>Título</th><th>Selo</th><th>Data</th><th>Status</th><th>Ações</th></tr></thead>
          <tbody id="tblBody"></tbody>
        </table>
      </div>
    </section>

    <!-- PESQUISA -->
    <section id="panel-pesquisa">
      <div class="card">
        <div class="pill">Expositor de links</div>
        <ul id="listaPesquisa" class="list"></ul>
      </div>
    </section>

    <!-- ROTEIROS -->
    <section id="panel-roteiros">
      <div class="card">
        <div class="pill">Roteiros anexados</div>
        <ul id="listaRoteiros" class="list"></ul>
      </div>
    </section>

    <!-- FONTES -->
    <section id="panel-fontes">
      <div class="card">
        <div class="pill">Repositório de fontes</div>
        <ul id="listaFontes" class="list"></ul>
      </div>
    </section>

    <!-- METAS -->
    <section id="panel-metas">
      <div class="card">
        <div class="pill">Metas do mês</div>
        <div id="metasResumo" class="small muted">—</div>
      </div>
      <div class="card">
        <div class="pill">Ritmo semanal</div>
        <div id="barsMetas" class="bars"></div>
      </div>
    </section>

    <!-- HISTÓRICO -->
    <section id="panel-historico">
      <div class="card">
        <div class="pill">Histórico mensal</div>
        <ul id="listaHistorico" class="list"></ul>
      </div>
    </section>
  </div>
</section>

<!-- JS externo (sem inline; compatível com CSP) -->
<script defer src="app.js"></script>
</body>
</html>
